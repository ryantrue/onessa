<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Импорт ключей</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- XLSX для чтения Excel -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" defer></script>

    <!-- Общие ресурсы (Bootstrap, header/footer) подключаем централизованно -->
    <script src="/layout.js" defer></script>
    <script src="/1auth.js" defer></script>
    <script src="/import.js" defer></script>

</head>
<body>
<div data-include="header"></div>

<main class="container-xxl py-4">
    <h1 class="h3 mb-3"><i class="bi bi-cloud-arrow-up me-2"></i>Импорт ключей</h1>

    <div id="message" class="alert d-none" role="alert"></div>

    <!-- Ключи -->
    <section class="card mb-4">
        <div class="card-body">
            <h2 class="h5">Ключи</h2>
            <p class="text-muted small">
                Здесь загружается только список лицензионных ключей. Комментарии, ПК и прочее
                задаются уже на странице «Список».
            </p>

            <div class="d-flex flex-wrap gap-2 mb-3">
                <button id="add-license-row-btn" class="btn btn-sm btn-outline-primary">Добавить ключ</button>
                <button id="clear-licenses-btn" class="btn btn-sm btn-outline-secondary">Очистить список ключей</button>

                <div class="ms-auto">
                    <label class="form-label mb-0 small">
                        Загрузить из файла
                        <input type="file" id="licenses-file-input" accept=".xlsx,.xls,.csv,.txt" class="form-control form-control-sm mt-1">
                    </label>
                </div>
            </div>

            <div class="table-responsive">
                <table id="licenses-table" class="table table-sm table-bordered align-middle mb-0"></table>
            </div>
        </div>
    </section>

    <!-- Сохранение -->
    <section class="card mb-4">
        <div class="card-body">
            <h2 class="h5">Сохранение</h2>
            <p class="text-muted small mb-1">При сохранении:</p>
            <ul class="small">
                <li>ключи будут добавлены в базу (дубликаты по ключу игнорируются);</li>
                <li>комментарии/ПК и привязка к пользователям делаются на странице «Лицензии».</li>
            </ul>
            <button id="save-btn" class="btn btn-primary">Сохранить в базу</button>
        </div>
    </section>
</main>

<div data-include="footer"></div>
</body>
</html>